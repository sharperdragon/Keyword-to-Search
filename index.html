// Assuming this is the existing script.js file content with the update applied to updateOutput()

// ... other code ...

function updateOutput() {
    const selectedField = document.getElementById('field_select')?.value || "Text";

    const fieldBehavior = {
        "Text": true,
        "Front": true,
        "CID": false,
        "NID": false
    };
    const needsWildcard = fieldBehavior[selectedField] ?? true;

    const checkedQuestions = Array.from(document.querySelectorAll('#question_list input[type=checkbox]:checked'))
        .map(cb => cb.value);

    let outputLines = checkedQuestions.map(q => {
        if (needsWildcard) {
            // Escape any existing * to avoid confusion, then add wildcard
            const escaped = q.replace(/\*/g, '');
            return `${selectedField}:*${escaped}*`;
        } else {
            return `${selectedField}:${q}`;
        }
    });

    document.getElementById('output_text').value = outputLines.join('\n');
}

// ... rest of the script.js code ...
